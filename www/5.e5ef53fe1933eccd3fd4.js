(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{OxhP:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class o{}var u=t("MXtQ"),i=t("qt09"),c=t("1Jx3"),r=function(n,l,t,e){return new(t||(t=Promise))(function(o,u){function i(n){try{r(e.next(n))}catch(n){u(n)}}function c(n){try{r(e.throw(n))}catch(n){u(n)}}function r(n){n.done?o(n.value):new t(function(l){l(n.value)}).then(i,c)}r((e=e.apply(n,l||[])).next())})};class b{constructor(n,l,t,e){this.loginService=n,this.lobbyService=l,this.lobbyConnectionService=t,this.router=e,this.DEFAULT_MESSAGE="You need to sign in or sign up before continuing",this.userName=this.DEFAULT_MESSAGE,this.userName=n.currentUser?n.currentUser.login:this.DEFAULT_MESSAGE}onPracticeClick(){this.lobbyService.createPracticeLobby().subscribe(n=>r(this,void 0,void 0,function*(){try{yield this.lobbyConnectionService.connectToLobby(n.serverUrl),this.router.navigate(["/game"])}catch(n){console.log("Can't connect to lobby"),console.error(n)}}))}onPlayClick(){this.lobbyService.quickStart().subscribe(n=>r(this,void 0,void 0,function*(){try{yield this.lobbyConnectionService.connectToLobby(n.serverUrl),this.router.navigate(["/game"])}catch(n){console.log("Can't connect to lobby"),console.error(n)}}))}onLobbiesClick(){this.router.navigate(["menu/lobbies"])}onSettingsClick(){}onLoginClick(){this.loginService.currentUser?this.loginService.logout():this.router.navigate(["login"])}}var a=function(n,l,t,e){return new(t||(t=Promise))(function(o,u){function i(n){try{r(e.next(n))}catch(n){u(n)}}function c(n){try{r(e.throw(n))}catch(n){u(n)}}function r(n){n.done?o(n.value):new t(function(l){l(n.value)}).then(i,c)}r((e=e.apply(n,l||[])).next())})};class s{constructor(n,l,t){this.lobbyService=n,this.lobbyConnectionService=l,this.router=t,this.lobbyList=[]}ngOnInit(){this.lobbyService.getLobbies().subscribe(n=>{this.lobbyList=n},n=>{console.error(n)})}onCreateLobby(n){+n<2?console.log("not creating lobby for 1 or less player"):this.lobbyService.createPracticeLobby(+n).subscribe(n=>a(this,void 0,void 0,function*(){try{yield this.lobbyConnectionService.connectToLobby(n.serverUrl),this.router.navigate(["/game"])}catch(n){console.log("Can't connect to lobby"),console.error(n)}}))}selectLobby(n){return a(this,void 0,void 0,function*(){yield this.lobbyConnectionService.connectToLobby(n.serverUrl),this.router.navigate(["/game"])})}}class g{}var p=t("pMnS"),f=t("iInd"),d=[[""]],h=e.zb({encapsulation:0,styles:d,data:{}});function m(n){return e.Pb(0,[(n()(),e.Bb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.Ab(1,212992,null,0,f.n,[f.b,e.ab,e.l,[8,null],e.i],null,null)],function(n,l){n(l,1,0)},null)}var y=e.xb("ng-component",o,function(n){return e.Pb(0,[(n()(),e.Bb(0,0,null,null,1,"ng-component",[],null,null,null,m,h)),e.Ab(1,49152,null,0,o,[],null,null)],null,null)},{},{},[]),v=[[".menu[_ngcontent-%COMP%]{height:100%;margin:0 auto;display:flex;justify-content:center;align-items:center;flex-direction:column}.user-label[_ngcontent-%COMP%]{position:absolute;top:25px;right:150px;color:#467daf}.user-label[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:30px;margin-top:10px;width:100px;height:45px;background-color:transparent;border:2px solid #467daf;color:#467daf;border-radius:3px;font-size:large}.user-label[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:0}.btn-group[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%}.btn-group[_ngcontent-%COMP%]   #numberOfPlayers[_ngcontent-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content;text-align:center}.menu-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.menu-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;width:350px;height:45px;background-color:transparent;border:2px solid #467daf;color:#467daf;border-radius:3px;font-size:large}.menu-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:0}"]],x=e.zb({encapsulation:0,styles:v,data:{}});function C(n){return e.Pb(0,[(n()(),e.Bb(0,0,null,null,14,"div",[["class","menu"]],null,null,null,null,null)),(n()(),e.Bb(1,0,null,null,4,"div",[["class","user-label"]],null,null,null,null,null)),(n()(),e.Bb(2,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),e.Ob(3,null,["",""])),(n()(),e.Bb(4,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;"click"===l&&(e=!1!==o.onLoginClick()&&e);return e},null,null)),(n()(),e.Ob(5,null,["",""])),(n()(),e.Bb(6,0,null,null,8,"div",[["class","menu-list"]],null,null,null,null,null)),(n()(),e.Bb(7,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;"click"===l&&(e=!1!==o.onPlayClick()&&e);return e},null,null)),(n()(),e.Ob(-1,null,["Quick Start"])),(n()(),e.Bb(9,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;"click"===l&&(e=!1!==o.onLobbiesClick()&&e);return e},null,null)),(n()(),e.Ob(-1,null,["Lobbies"])),(n()(),e.Bb(11,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;"click"===l&&(e=!1!==o.onPracticeClick()&&e);return e},null,null)),(n()(),e.Ob(-1,null,["Practice"])),(n()(),e.Bb(13,0,null,null,1,"button",[],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;"click"===l&&(e=!1!==o.onSettingsClick()&&e);return e},null,null)),(n()(),e.Ob(-1,null,["Settings"]))],null,function(n,l){var t=l.component;n(l,3,0,t.userName),n(l,5,0,t.loginService.currentUser?"Logout":"Login")})}var P=e.xb("page-menu",b,function(n){return e.Pb(0,[(n()(),e.Bb(0,0,null,null,1,"page-menu",[],null,null,null,C,x)),e.Ab(1,49152,null,0,b,[u.a,i.a,c.a,f.k],null,null)],null,null)},{},{},[]),k=t("SVse"),O=[["[_nghost-%COMP%]{display:flex;height:100%;flex-direction:column;align-content:center;justify-content:center;align-items:center}.btn-group[_ngcontent-%COMP%]{flex-direction:column;border:2px solid #467daf;color:#467daf;width:298px;height:45px}.button-list[_ngcontent-%COMP%]{padding-top:20px;flex-direction:column}.lobby-button[_ngcontent-%COMP%]{padding-top:10px;width:300px;height:45px;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;background-color:transparent;outline:0;border:2px solid #467daf;color:#467daf;font-size:large}"]],J=e.zb({encapsulation:0,styles:O,data:{}});function S(n){return e.Pb(0,[(n()(),e.Bb(0,0,null,null,1,"button",[["class","lobby-button"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;"click"===l&&(e=!1!==o.selectLobby(n.context.$implicit)&&e);return e},null,null)),(n()(),e.Ob(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.context.$implicit.name)})}function L(n){return e.Pb(0,[(n()(),e.Bb(0,0,null,null,5,"div",[["class","btn-group"]],null,null,null,null,null)),(n()(),e.Bb(1,0,null,null,1,"label",[["for","numberOfPlayers"]],null,null,null,null,null)),(n()(),e.Ob(-1,null,["Enter number of players"])),(n()(),e.Bb(3,0,[["numberOfPlayers",1]],null,0,"input",[["id","numberOfPlayers"],["max","4"],["min","2"],["name","numberOfPlayers"],["step","1"],["type","number"],["value","2"]],null,null,null,null,null)),(n()(),e.Bb(4,0,null,null,1,"button",[["class","button-login"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var o=!0,u=n.component;"click"===l&&(o=!1!==u.onCreateLobby(e.Kb(n,3).value)&&o);return o},null,null)),(n()(),e.Ob(-1,null,["Create Lobby"])),(n()(),e.Bb(6,0,null,null,2,"div",[["class","button-list"]],null,null,null,null,null)),(n()(),e.sb(16777216,null,null,1,null,S)),e.Ab(8,278528,null,0,k.h,[e.ab,e.X,e.z],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,8,0,l.component.lobbyList)},function(n,l){n(l,4,0,e.Kb(l,3).value<2)})}var w=e.xb("page-lobbies",s,function(n){return e.Pb(0,[(n()(),e.Bb(0,0,null,null,1,"page-lobbies",[],null,null,null,L,J)),e.Ab(1,114688,null,0,s,[i.a,c.a,f.k],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),M=t("s7LF"),B=t("9298"),_=t("IheW"),U=t("BqCg"),A=t("Witw"),E=t("Y5fs"),F=t("HbRv"),T=t("w57X"),j=t("HUdp"),z=t("i/wu");class N{}var X=t("uGRO"),q=t("5Uro"),I=t("AlhI");t.d(l,"UserMenuPageModuleNgFactory",function(){return K});var K=e.yb(g,[o],function(n){return e.Ib([e.Jb(512,e.l,e.nb,[[8,[p.a,y,P,w]],[3,e.l],e.F]),e.Jb(4608,k.k,k.j,[e.B,[2,k.q]]),e.Jb(4608,M.c,M.c,[]),e.Jb(4608,B.a,B.a,[]),e.Jb(4608,_.k,_.q,[k.c,e.K,_.o]),e.Jb(4608,_.r,_.r,[_.k,_.p]),e.Jb(5120,_.a,function(n,l){return[n,new U.a(l)]},[_.r,A.a]),e.Jb(4608,_.n,_.n,[]),e.Jb(6144,_.l,null,[_.n]),e.Jb(4608,_.j,_.j,[_.l]),e.Jb(6144,_.b,null,[_.j]),e.Jb(4608,_.f,_.m,[_.b,e.x]),e.Jb(4608,_.c,_.c,[_.f]),e.Jb(4608,E.a,E.a,[_.c,f.k]),e.Jb(4608,F.a,F.a,[E.a]),e.Jb(4608,T.a,T.a,[E.a]),e.Jb(4608,j.a,j.a,[E.a]),e.Jb(4608,u.a,u.a,[F.a,f.k]),e.Jb(4608,z.a,z.a,[T.a]),e.Jb(4608,i.a,i.a,[j.a]),e.Jb(1073742336,f.m,f.m,[[2,f.s],[2,f.k]]),e.Jb(1073742336,N,N,[]),e.Jb(1073742336,k.b,k.b,[]),e.Jb(1073742336,X.a,X.a,[]),e.Jb(1073742336,M.b,M.b,[]),e.Jb(1073742336,M.a,M.a,[]),e.Jb(1073742336,q.a,q.a,[]),e.Jb(1073742336,_.e,_.e,[]),e.Jb(1073742336,_.d,_.d,[]),e.Jb(1073742336,I.a,I.a,[]),e.Jb(1073742336,g,g,[]),e.Jb(1024,f.i,function(){return[[{path:"",component:o,children:[{path:"",component:b},{path:"lobbies",component:s}]}],[{path:"",component:o,children:[{path:"",component:b},{path:"lobbies",component:s}]}]]},[]),e.Jb(256,_.o,"XSRF-TOKEN",[]),e.Jb(256,_.p,"X-XSRF-TOKEN",[])])})}}]);